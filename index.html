<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>HNGi7 - Team Spectactle</title>

        <!-- Bootstrap CSS CDN -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
        <!-- Our Custom CSS -->
        <link rel="stylesheet" href="style2.css">
        <!-- Scrollbar Custom CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">
  

    </head>
    <body>
	<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v7.0" nonce="6jBoaCTh"></script>


        <div class="wrapper">
            <!-- Sidebar Holder -->
            <nav id="sidebar">
                <div class="sidebar-header mt-4">
                    <h3>Hello, HNGi Intern</h3>
                </div>

                <ul class="list-unstyled components">
                    <li>
                        <a href="#homeSubmenu">Dashboard</a>
                    </li>
                    <li>
                        <a href="#">Tasks</a>
                    </li>
                    <li class="active">
                        <a href="#">Leaderboard</a>
                    </li>
                    <li>
                        <a href="#">Posts</a>
                    </li>

                    <li>
                        <a href="#">User Profile</a>
                    </li>
                </ul>
            </nav>

            <!-- Page Content Holder -->
            <div id="content">

                <nav class="navbar navbar-default">
                    <div class="container-fluid">

                        <div class="navbar-header">
                            <button type="button" id="sidebarCollapse" class="navbar-btn" style="border-radius: 5px">
                                <i class="fa fa-toggle-on"></i>
                                <span>Toggle Sidebar</span>
                            </button>
                        </div>

                        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav navbar-right">
                            </ul>
                        </div>
                    </div>
                </nav>

                <h2>Leaderboard For HNGi7 Interns</h2>

                <div class="line"></div>
                <h3 class="text-center mb-5">Top Three Interns</h3>
                <div class="container">
            	<div class="row" >

                    <!-- <div class="col-lg-4 col-sm-6">
                        <div id="jsonInfo">
                        
                        </div>
                    </div> -->
                    
                    

				<div class="col-lg-4 col-sm-6">

            <div class="card hovercard shadow">
                <div class="cardheader">

                </div>
                <div class="avatar">
                    <img alt="" src="http://lorempixel.com/100/100/people/9/">
                </div>
                <div class="info">
                    <div class="title">
                        <a target="_blank" href="https://scripteden.com/">Seun Oguntonade</a>
                    </div>
                    
                    <div >
                        <div class="desc">Slack ID: @SeunOG </div>
                        <div class="desc">Email: seun@gmail.com </div>
                        <hr/>
                        <h6>Total points</h6>
                        <p>6</p>
                    </div>
                    
                </div>
            </div>

        </div>

        <div class="col-lg-4 col-sm-6">

            <div class="card hovercard shadow">
                <div class="cardheader">

                </div>
                <div class="avatar">
                    <img alt="" src="http://lorempixel.com/100/100/people/9/">
                </div>
                <div class="info">
                     <div class="title">
                        <a target="_blank" href="https://scripteden.com/">Melissa Ugrai</a>
                    </div>

                    <div id="jsonInfo">
                        <div class="desc">Slack ID: @Melissa</div>
                        <div class="desc">Email: mugrai@gmail.com</div>
                        <hr/>
                        <h6>Total points</h6>
                        <p>6</p>
                    </div>

                </div>
            </div>

        </div>

        <div class="col-lg-4 col-sm-6">

            <div class="card hovercard shadow">
                <div class="cardheader">

                </div>
                <div class="avatar">
                    <img alt="" src="http://lorempixel.com/100/100/people/9/">
                </div>
                <div class="info">
                    <div class="title">
                        <a target="_blank" href="https://scripteden.com/">Joseph Okon Unomieta</a>
                    </div>
                    
                    <div id="jsonInfo">
                        <div class="desc">Slack ID:@Unomieta </div>
                        <div class="desc">Email: lionelunomieta@gmail.com </div>
                        <hr/>
                        <h6>Total points</h6>
                        <p>5</p>
                    </div>

                </div>
            </div>

        </div>

	</div>
                </div>
                <div class="container mt-5">
                	<div class="card table-responsive shadow px-5">
					<table id="table_id" class="display">
					    <thead>
					        <tr>
					            <th>FullName</th>
					            <th>UserName</th>
					            <th>Email</th>
					            <th>Total Points</th>
					        </tr>
					    </thead>
					    <tbody  id="jsonData">
					    </tbody>
					</table>
                	</div>
                	<div class="fb-share-button" data-href="https://developers.facebook.com/docs/plugins/" data-layout="button_count" data-size="large"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div>
                	<a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
		    </div>

            </div>
        </div>


        


        <!-- jQuery CDN -->
        <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
        <!-- Bootstrap Js CDN -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
        <!-- jQuery Custom Scroller CDN -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>

        <script type="text/javascript">
            $(document).ready(function () {
                $("#sidebar").mCustomScrollbar({
                    theme: "minimal"
                });

                $('#sidebarCollapse').on('click', function () {
                    $('#sidebar, #content').toggleClass('active');
                    $('.collapse.in').toggleClass('in');
                    $('a[aria-expanded=true]').attr('aria-expanded', 'false');
                });
            });
            $(document).ready( function () {
			    

			    var myItems;

			    // $.getJSON('http://localhost:8000/main.php', function(data) {
			    //     myItems = data.items;
			    //     console.log(myItems);
			    // });

			   //  var flickerAPI = "http://localhost:8000/main.php";
				  // $.getJSON( flickerAPI, {
				  //   // tags: "mount rainier",
				  //   // tagmode: "any",
				  //   // format: "json"
				  // })
				  //   .done(function( data ) {
				  //     $.each( data.items, function( i, item ) {
				  //     	console.log('the item: ', item)
				  //       $( "<tr>" ).attr( "src", item.media.m ).appendTo( "#jsonData" );
				  //       // if ( i === 3 ) {
				  //       //   return false;
				  //       // }
				  //     });
				  //   });

                var urlHost = window.location.port == '5500' ? 'http://localhost:8000' : "https://" + window.location.hostname
                var url = urlHost + "/index.php"
                console.log(url)
			    $.getJSON( url, function( data ) {
				  var items = [];
				  console.log('the data: ', data);

                  for(i = 0; i < data.length; i++) {
                    $( "<tr>", {
				    html: "<td id='" + i + "'>" + data[i].FULL_NAME + "</td> <td id='" + i + "'>" + data[i].USERNAME + "</td> <td id='" + i + "'>" + data[i].EMAIL + "</td> <td id='" + i + "'>" + data[i].TOTAL_POINTS + "</td>"
				  }).appendTo( "#jsonData" );
                    // items.push( "<td id='" + i + "'>" + data[i].FULL_NAME + "</td> " );
                    // console.log('sdshj', data[i])
                  }

                //   for(i = 0; i < data.length; i++) {
                      var sortedArr = [];
                      sortedArr = data.sort().reverse();
                      var temp = data.sort(function(a,b){
                          console.log('fhd',a.TOTAL_POINTS, b.TOTAL_POINTS)
                            return parseInt($(b.TOTAL_POINTS)) - parseInt($(a.TOTAL_POINTS));
                        });

                        console.log('temp, ', temp)
                      console.log(sortedArr)
                        // $( '<div>', {
                        //     html: '<div class="card hovercard shadow"><div class="cardheader"></div><div class="avatar"><img alt="" src="http://lorempixel.com/100/100/people/9/"></div><div class="info"><div class="title"><a target="_blank" href="https://scripteden.com/">Intern\'s Name</a></div><div class="desc">Slack ID: '+ data[i].USERNAME + '</div><div class="desc">Email: '+ data[i].EMAIL +'</div><hr/><h6>Total points: '+data[i].TOTAL_POINTS+'</h6> </div></div></div>'
                        // }).appendTo( "#jsonInfo" );


                //   }

				//   $.each( data, function( key, val ) {
				//     items.push( "<td id='" + key + "'>" + val[0].FULL_NAME + "</td>" );
                //     console.log(val[0].FULL_NAME)
				//   });

				//   $( "<tr>", {
				//     html: items.join( "" )
				//   }).appendTo( "#jsonData" );
                $('#table_id').DataTable();
				});
			} );

        </script>
    </body>
</html>
